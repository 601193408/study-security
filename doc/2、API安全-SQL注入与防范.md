## 1、什么是注入攻击

​		使用了用户输入的但是我们没有校验过的数据，来拼装一个可以行的指令，交给系统去执行，结果导致执行了我们不希望发生的命令。注入攻击用很多种，最常见的是SQL注入。

## 2、SQL注入攻击

​		Java程序员知道，使用Statement进行查询时会造成SQL注入攻击，从而使用PreparedStatement来进行SQL预编译，从而有效的防止SQL注入攻击。但是日常开发中，我们一般多使用框架来进行数据库操作，如JdbcTemplate、Spring-Data-Jpa、Mybatis等，但是使用起来，我们也要注意，避免写出可注入程序。

​		SQL拼接时，切记不要将参数直接拼接。

## 3、代码示例

见cfq-user-api工程UserServiceImpl中query方法。

## 4、如何防止SQL注入

​	　　上面的情况只是针对与查询，多查出来数据，更危险的攻击可能会修改或删除数据，甚至调用存储过程，删表等。我们如何防止SQL注入呢？

　　5.1、控制数据库用户权限（对分配给应用程序的用户权限进行限定，一般只有对数据的CRUD权限）

　　5.2、对传入的参数进行校验

　　5.3、使用一些高级的框架进行数据库操作，对于一些复杂的情况，需要进行SQL拼接时，不要将参数拼接到SQL中，要使用预编译SQL。











​		

​		







